\subsection{Создание словаря}

Перед тем, как реализовать алгоритмы нахождения схожести слов, было необходимо перед этим создать словарь, по которому и будет определяться схожесть слов и предлагаться, если необходимо, варианты замены слов.

Сначала нужно было либо создать, либо скачать готовый сборник русских слов. Второй вариант заметно упрощает разработку, поэтому был выбран именно этот способ. Ввиду этого, был скачан частотный словарь русской литературы с \href{http://speakrus.ru/dict/index.htm}{сайта ``Архивы форума "Говорим по-русски"''}.

Затем, с помощью команды \textbf{file -i litc-win.txt} был определён исходный формат скачанного файла и с помощью \textbf{iconv -f iso-8859-1 -t UTF-8 -o litc-win.txt litc-win.txt} изменил кодировку на UTF-8.

Затем было выполнено преобразования файла, которые удалили из него слова с частотой менее 1, и удаление из всех строк значения частот. 

Далее была спроектирована структура словаря, где каждому слову соответствовал объект:

\begin{itemize}
  \item word - само слово;
  \item translit - транслит слова;
  \item metaphone - результат выполнения алгоритма Double Metaphone для транслита слова;
  \item cyrMetaphone - результат выполнения русской адаптации алгоритма Metaphone для слова.
\end{itemize}

Ввиду сложности реализации алгоритма Double Metaphone, реализация алгоритм была добавлена в виде внешнего пакета. Подробнее эту реализацию можно посмотреть по ссылке~\cite{doubleMetaphoneNPM}.

\subsubsection{Приведение слова к транслиту}

Для привидения слова к транслиту, необходимо сначала определиться, какой системы транслитерации придерживаться. Была выбрана система транслитерации международных телеграмм~\cite{instukcia} наиболее подходящую для словаря.

Алгоритм приведения слова к транслитерации:

\begin{enumerate}
  \item Получение входного слова;
  \item Создание объекта, содержащего правила транслитерации для каждой буквы;
  \item Инициализация новой стоки newString, в которую будут добавляться буквы транслитерации слова;
  \item Для каждой буквы входного слова:
   \begin{itemize}
    \item Если в объекте есть ключ, соответствующий очередной букве входной строки, то в newString добавляется значение, соответствующее этому ключу;
    \item Если в объекте отсутствует ключ, соответствующий очередной букве входной строки в нижнем регистре, то в newString добавляется эта буква;
    \item Если в объекте есть ключ, соответствующий очередной букве строки в нижнем регистре, то newChar присваивается значение, соответствующее этому ключу в верхнем регистре;
  \end{itemize}
  \item Полученная строка newString подаётся на выход.
\end{enumerate}

Листинг реализации этого алгоритма приведён в приложении~\ref{sec:a} на странице~\pageref{lst:translit}, Листинг~\ref{lst:translit}.

Также был реализован алгоритм русского metaphone, который был описан в параграфе~\ref{Metaphone}, страница~\pageref{Metaphone}.

Листинг реализации этого алгоритма приведен в приложении~\ref{sec:b} на страница~\pageref{lst:cyrMetaphone}, Листинг~\ref{lst:cyrMetaphone}.

\subsubsection{Получение словаря}

Словарь с предложенной выше структурой можно реализовать с помощью следующего алгоритма:

\begin{enumerate}
  \item Инициализация пустого словаря dict;
  \item Чтение данных из текстового файла с массивом слов словаря и частотой использования этих слов;
  \item Разделение полученных данных на отдельные строки;
  \item Удаление в каждой строке частоты использования слова;
  \item Удаление всех слов с длинной менее 1;
  \item Получение транслитерации, double\_metaphone и русский метафон каждого слова;
  \item Объединение полученных данных для каждого слова и выведение в новый файл.
\end{enumerate}

Листинг реализации этого алгоритма приведён в приложении~\ref{sec:c} на странице~\pageref{lst:dict}, Листинг~\ref{lst:dict}.

Результат работы алгоритма (показаны первые 5 слов из словаря):

\lstinputlisting[caption={Первые 5 слов полученного словаря}]{./TexModules/Appendix/progs/first5words.txt}